package boundary;
import java.awt.Color;
import java.awt.FlowLayout;
import java.awt.Font;
import javax.swing.*;
import boundary.theme.ModernButton;
import controller.AreaUtenzeController;
import entity.Utente; 
import boundary.dialog.CreaUtenteDialog;  

public class BarraUtenteAreaUtenze extends BarraGenerica {

    private JButton creaUtenza;
    private JButton back;
    private JLabel title;
    private JPanel buttonPanel;
    private Utente utente;
    private AreaUtenzeController controller;
    private AreaUtenze_AdminOptions parentFrame;  
    public BarraUtenteAreaUtenze(Utente utente, AreaUtenzeController controller) {
        super();
        this.utente = utente;
        this.controller = controller;

        title = new JLabel("Area Utenze");
        title.setFont(new Font("Arial", Font.BOLD, 18));
        title.setForeground(new Color(0, 102, 204));

        creaButton();
        costruzionePanel();
        setBackground(Color.WHITE);
        setVisible(true);
    }
    
    public BarraUtenteAreaUtenze(Utente utente, AreaUtenzeController controller, AreaUtenze_AdminOptions parent)
    {
    	this(utente, controller); 
    	parentFrame = parent;
    }

    private void creaButton() {
        creaUtenza = ModernButton.createNavbarButton("Crea Utenza");
        back = ModernButton.createNavbarButton("<- Indietro");
        addActionButton();
    }

    private void addActionButton() {
        addActionCreaUtenza();
        addActionBackButton();
    }

    private void costruzionePanel() {
        buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 14, 0));
        buttonPanel.setBackground(Color.WHITE);
        buttonPanel.add(creaUtenza);
        buttonPanel.add(back);

        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));
        add(Box.createHorizontalStrut(20));
        add(title);
        add(Box.createHorizontalGlue());
        add(buttonPanel);
        add(Box.createHorizontalStrut(20));
    }

    private void addActionCreaUtenza() {
        creaUtenza.addActionListener(e -> {
            CreaUtenteDialog dialog = new CreaUtenteDialog(parentFrame);  // ‚Üê USA ESISTENTE!
            dialog.setVisible(true);
        });
    }


    private void addActionBackButton() {
        // da implementare
    }
}
